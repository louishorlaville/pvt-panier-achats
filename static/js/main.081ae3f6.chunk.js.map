{"version":3,"sources":["SommairePanier.jsx","Entete.jsx","BtnAjoutPanier.jsx","Produit.jsx","ListeProduits.jsx","PiedDePage.jsx","Contact.jsx","Apropos.jsx","Accueil.jsx","Appli.jsx","hooks/useLocalStorageState.js","index.jsx"],"names":["SommairePanier","panier","affichable","info","pan","tabArticles","Object","values","nbArticles","totalItems","st","tps","tvq","total","length","reduce","acc","article","qte","prix","toFixed","retournerInfoPanier","className","Entete","etatPanier","valeursPanier","useState","sommaireAffichable","setSommaireAffichable","to","activeClassName","exact","Badge","onClick","badgeContent","accumulateur","eltCourant","color","BtnAjoutPanier","texte","classeCss","Produit","nom","id","setPanier","src","alt","console","log","JSON","parse","stringify","ListeProduits","props","tabProduits","map","prd","PiedDePage","annee","Date","getFullYear","Contact","Accueil","Appli","valeurParDefaut","etiquetteLS","window","localStorage","getItem","etat","setEtat","useEffect","setItem","useLocalStorageState","path","component","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.081ae3f6.chunk.js","sourcesContent":["import './SommairePanier.scss';\r\n\r\nexport default function SommairePanier({panier, affichable}) {\r\n  \r\n  const info = retournerInfoPanier(panier);\r\n\r\n  return(\r\n    <div className={'SommairePanier' + (!affichable ? ' cacher' : '')}>\r\n      <span>Articles différents : {info.nbArticles}</span>\r\n      <span>Total # items : {info.totalItems}</span>\r\n      <span>Sous-total : {info.st}</span>\r\n      <span>TPS : {info.tps}</span>\r\n      <span>TVQ : {info.tvq}</span>\r\n      <span>Total : {info.total}</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction retournerInfoPanier(pan) {\r\n  const tabArticles = Object.values(pan);\r\n  // [ {nom: 'sdfsd', prix: 15.99, qte: 2}, {nom: 'sdfsd', prix: 9.99, qte: 6}, {nom: 'sdfsd', prix: 23.67, qte: 15}]\r\n  let info = {nbArticles: 0, totalItems: 0, st: 0, tps: 0, tvq: 0, total: 0};\r\n  info.nbArticles = tabArticles.length;\r\n  info.totalItems = tabArticles.reduce((acc, article) => acc + article.qte , 0);\r\n  const st = tabArticles.reduce((acc, article) => acc + (article.prix*article.qte), 0);\r\n  info.st = st.toFixed(2);\r\n  const tps = st * 0.05;\r\n  info.tps = tps.toFixed(2)\r\n  const tvq = st * 0.09975;\r\n  info.tvq = tvq.toFixed(2);\r\n  info.total = (st + tps + tvq).toFixed(2);\r\n  return info;\r\n}","import './Entete.scss';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport SommairePanier from './SommairePanier';\r\nimport { useState } from 'react';\r\nimport { Link, NavLink } from 'react-router-dom'\r\n\r\n\r\nexport default function Entete({etatPanier}) {\r\n  const [panier] = etatPanier;\r\n  const valeursPanier = Object.values(panier);\r\n\r\n  const [sommaireAffichable, setSommaireAffichable] = useState(false);\r\n\r\n  function basculerAffichageSommairePanier() {\r\n    setSommaireAffichable(!sommaireAffichable);\r\n  }\r\n\r\n  return (\r\n    <header className=\"Entete\">\r\n      <div className=\"logo\">\r\n        <NavLink to=\"/\"  activeClassName=\"navActive\" exact>Magasin</NavLink>\r\n      </div>\r\n      <ul className=\"navPrincipale\">\r\n        <li><NavLink to=\"/nos-produits\" activeClassName=\"navActive\">Produits</NavLink></li>\r\n        <li><NavLink to=\"/a-propos\" activeClassName=\"navActive\">À propos de nous</NavLink></li>\r\n        <li><NavLink to=\"/contact\" activeClassName=\"navActive\">Contactez-nous</NavLink></li>\r\n      </ul>\r\n      <ul className=\"navUtilisateur\">\r\n        <li>\r\n          <Badge onClick={basculerAffichageSommairePanier} badgeContent={valeursPanier.reduce((accumulateur, eltCourant) => accumulateur + eltCourant.qte, 0)} color=\"secondary\">\r\n            <ShoppingCartIcon />\r\n          </Badge>\r\n          <SommairePanier panier={panier} affichable={sommaireAffichable} />\r\n        </li>\r\n        <li>Mon compte</li>\r\n      </ul>\r\n    </header>\r\n  )\r\n}","import { Badge } from '@material-ui/core';\r\n\r\nimport './BtnAjoutPanier.scss';\r\n\r\nexport default function BtnAjoutPanier({onClick, qte, texte, classeCss}) {\r\n  return (\r\n    <Badge badgeContent={qte} color=\"primary\">\r\n      <button onClick={onClick} className={`BtnAjoutPanier ${classeCss}`}>\r\n        {texte}\r\n      </button>\r\n    </Badge>\r\n  );\r\n} \r\n\r\n","import BtnAjoutPanier from './BtnAjoutPanier';\r\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\r\nimport './Produit.scss';\r\n\r\nexport default function Produit({nom, id, etatPanier, prix}) {\r\n  const [panier, setPanier] = etatPanier;\r\n\r\n  function ajouterPanier() {\r\n    console.log(\"Le panier : \", panier);\r\n    if(panier[id]) {\r\n      panier[id].qte++;\r\n    }\r\n    else {\r\n      panier[id] = {nom: nom, prix: prix, qte: 1}\r\n    }\r\n    setPanier(JSON.parse(JSON.stringify(panier))); // {...panier}\r\n  } \r\n\r\n  let qte = 0;\r\n  let texte = \"Ajouter au panier\";\r\n  let classeCss = \"\";\r\n  if(panier[id]) {\r\n    qte = panier[id].qte;\r\n    texte = <AddCircleOutlineIcon />; // JSX = Javascript Syntax eXtension\r\n    classeCss = \"rouge\";\r\n  }\r\n\r\n  return(\r\n    <li className=\"Produit\">\r\n      <img src={'images-produits/' + id + '.webp'} alt=\"\"/>\r\n      <div className=\"info\">\r\n        <p className=\"nom\">{nom}</p>\r\n        <p className=\"prix\">{prix}</p>\r\n      </div>\r\n      <BtnAjoutPanier onClick={ajouterPanier} qte={qte} texte={texte} classeCss={classeCss} />\r\n    </li>\r\n  );\r\n}","import './ListeProduits.scss';\r\nimport Produit from \"./Produit\";\r\nimport tabProduits from './data/produits.json';\r\n\r\nexport default function ListeProduits(props) {\r\n  return (\r\n    <div className=\"ListeProduits\">\r\n      <h2>Produits disponibles</h2>\r\n      <ul>        \r\n        {tabProduits.map(prd => \r\n         <Produit nom={prd.nom} prix={prd.prix} id={prd.id} etatPanier={props.etatPanier} key={prd.id} />\r\n        )}\r\n      </ul>\r\n    </div>\r\n  );\r\n}","import './PiedDePage.scss';\r\n\r\nexport default function PiedDePage(props) {\r\n  const annee = new Date().getFullYear();\r\n  return (\r\n    <footer className=\"PiedDePage\">\r\n      &copy;{annee} - TIM - Tous droits réservés.\r\n    </footer>\r\n  );\r\n}","export default function Contact() {\r\n  return (\r\n    <div className=\"Contact\">\r\n      <h2>Contactez-nous</h2>\r\n      <p>Page en construction</p>\r\n    </div>\r\n  );\r\n}","export default function Accueil() {\r\n  return (\r\n    <div className=\"Apropos\">\r\n      <h2>À propos de nous</h2>\r\n      <p>Page en construction</p>\r\n    </div>\r\n  );\r\n}","export default function Accueil() {\r\n  return (\r\n    <div className=\"Accueil\">\r\n      <h2>Magasin</h2>\r\n      <p>Page d'accueil en construction</p>\r\n    </div>\r\n  );\r\n}","import './Appli.scss';\r\nimport {useState} from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport useLocalStorageState from './hooks/useLocalStorageState';\r\nimport Entete from './Entete.jsx';\r\nimport ListeProduits from './ListeProduits';\r\nimport PiedDePage from './PiedDePage';\r\nimport Contact from './Contact';\r\nimport Apropos from './Apropos'\r\nimport Accueil from './Accueil'\r\n\r\nexport default function Appli() {\r\n  const [compteur, setCompteur] = useState(0);\r\n\r\n  // Gérer l'état avec les \"React Hooks\"\r\n  // useState va créer une variable d'état initialisée à {}\r\n  // const etatPanier = useState(() => {\r\n  //   return JSON.parse(window.localStorage.getItem('panier')) || {};\r\n  //   /*\r\n  //   let panierDansLS = window.localStorage.getItem('panier');\r\n  //   if(panierDansLS !== null) {\r\n  //     return JSON.parse(panierDansLS);\r\n  //   }\r\n  //   else {\r\n  //     return {};\r\n  //   }*/\r\n  // });\r\n\r\n  // const [panier] = etatPanier;\r\n\r\n  // Sauvegarder l'état du panier dans LocalStorage\r\n  // Corriger avec useEffect() (hook)\r\n  // useEffect(() => window.localStorage.setItem('panier', JSON.stringify(panier)), [panier]);\r\n  \r\n  const etatPanier = useLocalStorageState({}, \"panier\");\r\n\r\n  return (\r\n    <div className=\"Appli\">\r\n      <Entete etatPanier={etatPanier} />\r\n      <section className=\"contenuPrincipal\">\r\n        <Switch>\r\n          <Route path=\"/\" component={Accueil} exact/>\r\n          <Route path=\"/nos-produits\">\r\n            <ListeProduits etatPanier={etatPanier}/>\r\n          </Route>\r\n          <Route path=\"/a-propos\">\r\n            <Apropos/>\r\n          </Route>\r\n          <Route path=\"/contactez-nous\" component={Contact}/>\r\n        </Switch>\r\n      </section>\r\n      <PiedDePage />\r\n    </div>\r\n  );\r\n}","import {useState, useEffect} from 'react';\r\n\r\nexport default function useLocalStorageState(valeurParDefaut, etiquetteLS) {\r\n  const [etat, setEtat] = useState(\r\n    () => {\r\n      return JSON.parse(window.localStorage.getItem(etiquetteLS)) || valeurParDefaut;\r\n    }\r\n  );\r\n  \r\n  useEffect(() => window.localStorage.setItem(etiquetteLS, JSON.stringify(etat)), [etat]);\r\n  \r\n  return [etat, setEtat];\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter as Router} from 'react-router-dom'\r\nimport './index.scss';\r\nimport Appli from './Appli';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Router basename=\"/pvt-panier-achats\">\r\n      <Appli />    \r\n    </Router>\r\n  </React.StrictMode>,\r\n  document.getElementById('racine')\r\n);"],"sourceRoot":""}